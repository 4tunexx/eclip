CREATE SCHEMA "public";
CREATE SCHEMA "drizzle";
CREATE TYPE "RankTier" AS ENUM('BRONZE', 'SILVER', 'GOLD', 'PLATINUM', 'DIAMOND', 'ELITE', 'MASTER', 'GRANDMASTER', 'LEGEND', 'IMMORTAL');
CREATE TYPE "Provider" AS ENUM('EMAIL', 'STEAM');
CREATE TYPE "UserRole" AS ENUM('USER', 'MOD', 'ADMIN');
CREATE TYPE "BanType" AS ENUM('TEMP', 'PERM', 'QUEUE_ONLY');
CREATE TYPE "MatchStatus" AS ENUM('PENDING', 'LIVE', 'FINISHED', 'CANCELLED');
CREATE TYPE "TeamSide" AS ENUM('A', 'B');
CREATE TYPE "QueueStatus" AS ENUM('QUEUED', 'MATCHED', 'CANCELLED', 'EXPIRED');
CREATE TYPE "CosmeticType" AS ENUM('AVATAR_FRAME', 'PROFILE_BANNER', 'BADGE', 'TITLE');
CREATE TYPE "CosmeticRarity" AS ENUM('COMMON', 'RARE', 'EPIC', 'LEGENDARY');
CREATE TYPE "TransactionType" AS ENUM('MATCH_REWARD', 'PURCHASE', 'REFUND', 'ADMIN_GRANT', 'ADMIN_REMOVE');
CREATE TYPE "ThreadType" AS ENUM('DM', 'FORUM_TOPIC');
CREATE TYPE "mission_category" AS ENUM('DAILY', 'PLATFORM', 'INGAME');
CREATE TYPE "achievement_category" AS ENUM('LEVEL', 'ESR', 'COMBAT', 'SOCIAL', 'PLATFORM', 'COMMUNITY');
CREATE TABLE "ac_events" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"user_id" uuid NOT NULL,
	"match_id" uuid,
	"code" text NOT NULL,
	"severity" integer NOT NULL,
	"details" jsonb,
	"reviewed" boolean DEFAULT false,
	"reviewed_by" uuid,
	"reviewed_at" timestamp with time zone,
	"created_at" timestamp with time zone DEFAULT now() NOT NULL
);
CREATE TABLE "achievement_progress" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"user_id" uuid NOT NULL,
	"achievement_id" uuid NOT NULL,
	"current_progress" integer DEFAULT 0 NOT NULL,
	"unlocked_at" timestamp with time zone,
	"created_at" timestamp with time zone DEFAULT now() NOT NULL,
	"updated_at" timestamp with time zone DEFAULT now() NOT NULL
);
CREATE TABLE "achievements" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"code" text NOT NULL CONSTRAINT "achievements_code_key" UNIQUE,
	"name" text NOT NULL,
	"description" text NOT NULL,
	"points" integer NOT NULL,
	"category" text DEFAULT 'cs2',
	"requirement_type" text,
	"requirement_value" text,
	"target" integer DEFAULT 1,
	"reward_xp" integer DEFAULT 0,
	"reward_badge_id" uuid,
	"is_secret" boolean DEFAULT false,
	"is_active" boolean DEFAULT true
);
CREATE TABLE "badges" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"name" text NOT NULL,
	"description" text,
	"category" text,
	"rarity" text,
	"image_url" text,
	"unlock_type" text,
	"unlock_ref_id" uuid,
	"created_at" timestamp DEFAULT now() NOT NULL,
	"updated_at" timestamp DEFAULT now() NOT NULL
);
CREATE TABLE "bans" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"user_id" uuid NOT NULL,
	"reason" text NOT NULL,
	"type" text NOT NULL,
	"expires_at" timestamp with time zone,
	"banned_by" uuid,
	"is_active" boolean DEFAULT true,
	"created_at" timestamp with time zone DEFAULT now() NOT NULL
);
CREATE TABLE "cosmetics" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"name" text NOT NULL,
	"description" text,
	"type" text NOT NULL,
	"rarity" text NOT NULL,
	"price" numeric(10, 2) NOT NULL,
	"image_url" text,
	"is_active" boolean DEFAULT true,
	"created_at" timestamp DEFAULT now(),
	"updated_at" timestamp DEFAULT now(),
	CONSTRAINT "cosmetics_rarity_check" CHECK (CHECK ((rarity = ANY (ARRAY['Common'::text, 'Rare'::text, 'Epic'::text, 'Legendary'::text])))),
	CONSTRAINT "cosmetics_type_check" CHECK (CHECK ((type = ANY (ARRAY['Frame'::text, 'Banner'::text, 'Badge'::text, 'Title'::text]))))
);
CREATE TABLE "esr_thresholds" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"tier" text NOT NULL UNIQUE,
	"min_esr" integer NOT NULL,
	"max_esr" integer NOT NULL,
	"color" text NOT NULL,
	"created_at" timestamp DEFAULT now() NOT NULL,
	"division" integer DEFAULT 1 NOT NULL UNIQUE,
	CONSTRAINT "esr_threshold_tier_division_idx" UNIQUE("tier","division")
);
CREATE TABLE "forum_categories" (
	"id" uuid PRIMARY KEY,
	"title" text NOT NULL,
	"description" text,
	"order" integer DEFAULT 0,
	"created_at" timestamp DEFAULT now()
);
CREATE TABLE "forum_posts" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"thread_id" uuid NOT NULL,
	"author_id" uuid NOT NULL,
	"content" text NOT NULL,
	"created_at" timestamp with time zone DEFAULT now() NOT NULL,
	"updated_at" timestamp with time zone DEFAULT now() NOT NULL
);
CREATE TABLE "forum_threads" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"category_id" uuid NOT NULL,
	"author_id" uuid NOT NULL,
	"title" text NOT NULL,
	"content" text NOT NULL,
	"is_pinned" boolean DEFAULT false,
	"is_locked" boolean DEFAULT false,
	"views" integer DEFAULT 0,
	"reply_count" integer DEFAULT 0,
	"last_reply_at" timestamp with time zone,
	"last_reply_author_id" uuid,
	"created_at" timestamp with time zone DEFAULT now() NOT NULL,
	"updated_at" timestamp with time zone DEFAULT now() NOT NULL
);
CREATE TABLE "level_thresholds" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"level" integer NOT NULL CONSTRAINT "level_thresholds_level_key" UNIQUE,
	"required_xp" integer NOT NULL,
	"created_at" timestamp DEFAULT now() NOT NULL
);
CREATE TABLE "match_players" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"match_id" uuid NOT NULL,
	"user_id" uuid NOT NULL,
	"team" integer NOT NULL,
	"kills" integer DEFAULT 0,
	"deaths" integer DEFAULT 0,
	"assists" integer DEFAULT 0,
	"hs_percentage" integer DEFAULT 0,
	"mvps" integer DEFAULT 0,
	"adr" numeric(5, 2),
	"is_winner" boolean DEFAULT false,
	"is_leaver" boolean DEFAULT false,
	"created_at" timestamp with time zone DEFAULT now() NOT NULL
);
CREATE TABLE "matches" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"ladder" text NOT NULL,
	"server_instance_id" uuid,
	"started_at" timestamp with time zone DEFAULT now(),
	"ended_at" timestamp with time zone,
	"status" text NOT NULL,
	"server_id" text,
	"map" text,
	"team_a_players" text[],
	"team_b_players" text[],
	"winner_team" text,
	"match_start" timestamp with time zone,
	"match_end" timestamp with time zone
);
CREATE TABLE "missions" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"title" text NOT NULL,
	"description" text NOT NULL,
	"category" text NOT NULL,
	"requirement_type" text NOT NULL,
	"requirement_value" text,
	"target" integer NOT NULL,
	"reward_xp" integer DEFAULT 0 NOT NULL,
	"reward_coins" integer DEFAULT 0 NOT NULL,
	"reward_cosmetic_id" uuid,
	"is_daily" boolean DEFAULT false,
	"is_active" boolean DEFAULT true,
	"created_at" timestamp DEFAULT CURRENT_TIMESTAMP,
	"updated_at" timestamp DEFAULT CURRENT_TIMESTAMP,
	CONSTRAINT "missions_category_check" CHECK (CHECK ((category = ANY (ARRAY['platform'::text, 'cs2'::text, 'social'::text, 'cosmetic'::text, 'progression'::text, 'event'::text]))))
);
CREATE TABLE "notifications" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"user_id" uuid NOT NULL,
	"type" text NOT NULL,
	"title" text NOT NULL,
	"message" text,
	"data" jsonb,
	"read" boolean DEFAULT false,
	"created_at" timestamp with time zone DEFAULT now() NOT NULL
);
CREATE TABLE "queue_tickets" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"user_id" uuid NOT NULL,
	"status" text DEFAULT 'WAITING' NOT NULL,
	"region" text NOT NULL,
	"esr_at_join" integer NOT NULL,
	"match_id" uuid,
	"joined_at" timestamp with time zone DEFAULT now() NOT NULL,
	"matched_at" timestamp with time zone,
	"created_at" timestamp with time zone DEFAULT now() NOT NULL
);
CREATE TABLE "role_permissions" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"role" text NOT NULL UNIQUE,
	"permission" text NOT NULL UNIQUE,
	"created_at" timestamp DEFAULT now() NOT NULL,
	CONSTRAINT "role_permissions_role_permission_key" UNIQUE("role","permission")
);
CREATE TABLE "sessions" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"user_id" uuid NOT NULL,
	"token" text NOT NULL CONSTRAINT "sessions_token_key" UNIQUE,
	"expires_at" timestamp with time zone NOT NULL,
	"created_at" timestamp with time zone DEFAULT now() NOT NULL
);
CREATE TABLE "site_config" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"key" text NOT NULL CONSTRAINT "site_config_key_key" UNIQUE,
	"value" jsonb NOT NULL,
	"updated_at" timestamp with time zone DEFAULT now() NOT NULL,
	"updated_by" uuid
);
CREATE TABLE "transactions" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"user_id" uuid NOT NULL,
	"type" text NOT NULL,
	"amount" numeric(10, 2) NOT NULL,
	"description" text,
	"reference_id" uuid,
	"created_at" timestamp with time zone DEFAULT now() NOT NULL
);
CREATE TABLE "user_achievements" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"user_id" uuid,
	"achievement_id" uuid,
	"unlocked_at" timestamp with time zone DEFAULT now()
);
CREATE TABLE "user_inventory" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"user_id" uuid NOT NULL,
	"cosmetic_id" uuid NOT NULL,
	"purchased_at" timestamp with time zone DEFAULT now() NOT NULL
);
CREATE TABLE "user_metrics" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"user_id" uuid NOT NULL CONSTRAINT "user_metrics_user_id_key" UNIQUE,
	"wins_today" integer DEFAULT 0,
	"matches_today" integer DEFAULT 0,
	"assists_today" integer DEFAULT 0,
	"hs_kills_today" integer DEFAULT 0,
	"dashboard_visit_today" boolean DEFAULT false,
	"kills_total" integer DEFAULT 0,
	"hs_kills" integer DEFAULT 0,
	"clutches_won" integer DEFAULT 0,
	"bomb_plants" integer DEFAULT 0,
	"bomb_defuses" integer DEFAULT 0,
	"assists_total" integer DEFAULT 0,
	"damage_total" integer DEFAULT 0,
	"aces_done" integer DEFAULT 0,
	"last_reset_at" timestamp with time zone DEFAULT now() NOT NULL,
	"updated_at" timestamp with time zone DEFAULT now() NOT NULL
);
CREATE TABLE "user_mission_progress" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"user_id" uuid NOT NULL UNIQUE,
	"mission_id" uuid NOT NULL UNIQUE,
	"progress" integer DEFAULT 0 NOT NULL,
	"completed" boolean DEFAULT false,
	"completed_at" timestamp,
	"created_at" timestamp DEFAULT CURRENT_TIMESTAMP,
	"updated_at" timestamp DEFAULT CURRENT_TIMESTAMP,
	CONSTRAINT "user_mission_progress_user_id_mission_id_key" UNIQUE("user_id","mission_id")
);
CREATE TABLE "user_profiles" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"user_id" uuid NOT NULL CONSTRAINT "user_profiles_user_id_key" UNIQUE,
	"title" text,
	"equipped_frame_id" uuid,
	"equipped_banner_id" uuid,
	"equipped_badge_id" uuid,
	"stats" jsonb,
	"created_at" timestamp with time zone DEFAULT now() NOT NULL,
	"updated_at" timestamp with time zone DEFAULT now() NOT NULL
);
CREATE TABLE "users" (
	"id" uuid PRIMARY KEY DEFAULT gen_random_uuid(),
	"steam_id" text NOT NULL CONSTRAINT "users_steam_id_key" UNIQUE,
	"username" text NOT NULL,
	"eclip_id" text NOT NULL CONSTRAINT "users_eclip_id_key" UNIQUE,
	"created_at" timestamp with time zone DEFAULT now(),
	"avatar" text,
	"rank_points" integer DEFAULT 1000,
	"coins" numeric(12, 2) DEFAULT '0',
	"updated_at" timestamp with time zone DEFAULT now(),
	"role_color" text DEFAULT '#FFFFFF',
	"rank_tier" text DEFAULT 'Beginner',
	"rank_division" integer DEFAULT 1,
	"email" text CONSTRAINT "users_email_key" UNIQUE,
	"password_hash" text,
	"role" text DEFAULT 'USER',
	"email_verified" boolean DEFAULT false,
	"email_verification_token" text,
	"password_reset_token" text,
	"password_reset_expires" timestamp,
	"level" integer DEFAULT 1,
	"xp" integer DEFAULT 0,
	"esr" integer DEFAULT 1000,
	"rank" text DEFAULT 'Bronze',
	"level_computed" integer GENERATED ALWAYS AS (calculate_level_from_xp(xp)) STORED
);
CREATE TABLE "drizzle"."__drizzle_migrations" (
	"id" serial PRIMARY KEY,
	"hash" text NOT NULL,
	"created_at" bigint
);
ALTER TABLE "ac_events" ADD CONSTRAINT "ac_events_match_id_fkey" FOREIGN KEY ("match_id") REFERENCES "matches"("id") ON DELETE CASCADE;
ALTER TABLE "ac_events" ADD CONSTRAINT "ac_events_reviewed_by_fkey" FOREIGN KEY ("reviewed_by") REFERENCES "users"("id");
ALTER TABLE "ac_events" ADD CONSTRAINT "ac_events_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE;
ALTER TABLE "achievement_progress" ADD CONSTRAINT "achievement_progress_achievement_id_fkey" FOREIGN KEY ("achievement_id") REFERENCES "achievements"("id") ON DELETE CASCADE;
ALTER TABLE "achievement_progress" ADD CONSTRAINT "achievement_progress_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE;
ALTER TABLE "bans" ADD CONSTRAINT "bans_banned_by_fkey" FOREIGN KEY ("banned_by") REFERENCES "users"("id");
ALTER TABLE "bans" ADD CONSTRAINT "bans_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE;
ALTER TABLE "forum_posts" ADD CONSTRAINT "forum_posts_author_id_fkey" FOREIGN KEY ("author_id") REFERENCES "users"("id") ON DELETE CASCADE;
ALTER TABLE "forum_posts" ADD CONSTRAINT "forum_posts_thread_id_fkey" FOREIGN KEY ("thread_id") REFERENCES "forum_threads"("id") ON DELETE CASCADE;
ALTER TABLE "forum_threads" ADD CONSTRAINT "forum_threads_author_id_fkey" FOREIGN KEY ("author_id") REFERENCES "users"("id") ON DELETE CASCADE;
ALTER TABLE "forum_threads" ADD CONSTRAINT "forum_threads_category_id_fkey" FOREIGN KEY ("category_id") REFERENCES "forum_categories"("id") ON DELETE CASCADE;
ALTER TABLE "forum_threads" ADD CONSTRAINT "forum_threads_last_reply_author_id_fkey" FOREIGN KEY ("last_reply_author_id") REFERENCES "users"("id");
ALTER TABLE "match_players" ADD CONSTRAINT "match_players_match_id_fkey" FOREIGN KEY ("match_id") REFERENCES "matches"("id") ON DELETE CASCADE;
ALTER TABLE "match_players" ADD CONSTRAINT "match_players_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE;
ALTER TABLE "notifications" ADD CONSTRAINT "notifications_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE;
ALTER TABLE "queue_tickets" ADD CONSTRAINT "queue_tickets_match_id_fkey" FOREIGN KEY ("match_id") REFERENCES "matches"("id");
ALTER TABLE "queue_tickets" ADD CONSTRAINT "queue_tickets_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE;
ALTER TABLE "sessions" ADD CONSTRAINT "sessions_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE;
ALTER TABLE "site_config" ADD CONSTRAINT "site_config_updated_by_fkey" FOREIGN KEY ("updated_by") REFERENCES "users"("id");
ALTER TABLE "transactions" ADD CONSTRAINT "transactions_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE;
ALTER TABLE "user_achievements" ADD CONSTRAINT "user_achievements_achievement_id_fkey" FOREIGN KEY ("achievement_id") REFERENCES "achievements"("id") ON DELETE CASCADE;
ALTER TABLE "user_achievements" ADD CONSTRAINT "user_achievements_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE;
ALTER TABLE "user_inventory" ADD CONSTRAINT "user_inventory_cosmetic_id_fkey" FOREIGN KEY ("cosmetic_id") REFERENCES "cosmetics"("id") ON DELETE CASCADE;
ALTER TABLE "user_inventory" ADD CONSTRAINT "user_inventory_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE;
ALTER TABLE "user_metrics" ADD CONSTRAINT "user_metrics_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE;
ALTER TABLE "user_mission_progress" ADD CONSTRAINT "user_mission_progress_mission_id_fkey" FOREIGN KEY ("mission_id") REFERENCES "missions"("id");
ALTER TABLE "user_profiles" ADD CONSTRAINT "user_profiles_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "users"("id") ON DELETE CASCADE;
CREATE UNIQUE INDEX "ac_events_pkey" ON "ac_events" ("id");
CREATE UNIQUE INDEX "achievement_progress_pkey" ON "achievement_progress" ("id");
CREATE UNIQUE INDEX "achievements_code_key" ON "achievements" ("code");
CREATE UNIQUE INDEX "achievements_pkey" ON "achievements" ("id");
CREATE INDEX "idx_achievements_category" ON "achievements" ("category");
CREATE UNIQUE INDEX "badges_pkey" ON "badges" ("id");
CREATE INDEX "idx_badges_category" ON "badges" ("category");
CREATE UNIQUE INDEX "bans_pkey" ON "bans" ("id");
CREATE UNIQUE INDEX "cosmetics_pkey" ON "cosmetics" ("id");
CREATE UNIQUE INDEX "esr_threshold_tier_division_idx" ON "esr_thresholds" ("tier","division");
CREATE UNIQUE INDEX "esr_thresholds_pkey" ON "esr_thresholds" ("id");
CREATE INDEX "idx_esr_thresholds_tier" ON "esr_thresholds" ("tier");
CREATE UNIQUE INDEX "forum_categories_pkey" ON "forum_categories" ("id");
CREATE UNIQUE INDEX "forum_posts_pkey" ON "forum_posts" ("id");
CREATE UNIQUE INDEX "forum_threads_pkey" ON "forum_threads" ("id");
CREATE INDEX "idx_level_thresholds_level" ON "level_thresholds" ("level");
CREATE UNIQUE INDEX "level_thresholds_level_key" ON "level_thresholds" ("level");
CREATE UNIQUE INDEX "level_thresholds_pkey" ON "level_thresholds" ("id");
CREATE UNIQUE INDEX "match_players_pkey" ON "match_players" ("id");
CREATE UNIQUE INDEX "matches_pkey" ON "matches" ("id");
CREATE INDEX "idx_missions_active" ON "missions" ("is_active");
CREATE INDEX "idx_missions_category" ON "missions" ("category");
CREATE INDEX "idx_missions_daily" ON "missions" ("is_daily");
CREATE UNIQUE INDEX "missions_pkey" ON "missions" ("id");
CREATE UNIQUE INDEX "notifications_pkey" ON "notifications" ("id");
CREATE UNIQUE INDEX "queue_tickets_pkey" ON "queue_tickets" ("id");
CREATE INDEX "idx_role_permissions_role" ON "role_permissions" ("role");
CREATE UNIQUE INDEX "role_permissions_pkey" ON "role_permissions" ("id");
CREATE UNIQUE INDEX "role_permissions_role_permission_key" ON "role_permissions" ("role","permission");
CREATE UNIQUE INDEX "sessions_pkey" ON "sessions" ("id");
CREATE UNIQUE INDEX "sessions_token_key" ON "sessions" ("token");
CREATE UNIQUE INDEX "site_config_key_key" ON "site_config" ("key");
CREATE UNIQUE INDEX "site_config_pkey" ON "site_config" ("id");
CREATE UNIQUE INDEX "transactions_pkey" ON "transactions" ("id");
CREATE INDEX "idx_user_achievements" ON "user_achievements" ("user_id","achievement_id");
CREATE UNIQUE INDEX "user_achievements_pkey" ON "user_achievements" ("id");
CREATE UNIQUE INDEX "user_inventory_pkey" ON "user_inventory" ("id");
CREATE UNIQUE INDEX "user_metrics_pkey" ON "user_metrics" ("id");
CREATE UNIQUE INDEX "user_metrics_user_id_key" ON "user_metrics" ("user_id");
CREATE INDEX "idx_user_mission_progress" ON "user_mission_progress" ("user_id","mission_id");
CREATE UNIQUE INDEX "user_mission_progress_pkey" ON "user_mission_progress" ("id");
CREATE UNIQUE INDEX "user_mission_progress_user_id_mission_id_key" ON "user_mission_progress" ("user_id","mission_id");
CREATE UNIQUE INDEX "user_profiles_pkey" ON "user_profiles" ("id");
CREATE UNIQUE INDEX "user_profiles_user_id_key" ON "user_profiles" ("user_id");
CREATE UNIQUE INDEX "users_eclip_id_key" ON "users" ("eclip_id");
CREATE UNIQUE INDEX "users_email_key" ON "users" ("email");
CREATE UNIQUE INDEX "users_pkey" ON "users" ("id");
CREATE UNIQUE INDEX "users_steam_id_key" ON "users" ("steam_id");
CREATE UNIQUE INDEX "__drizzle_migrations_pkey" ON "drizzle"."__drizzle_migrations" ("id");